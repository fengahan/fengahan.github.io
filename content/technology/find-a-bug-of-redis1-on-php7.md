---
title: "Redis2.8 在PHP7.2 下的一个Bug"
date: 2019-07-12T19:22:52+07:30
description: "redis2.8版本在php7.2 下 sscan 命令不可用,不知道是什么原因，但是在5.6下是正常的。等以后再次搭建lnmp 换个7 的其它版本试试"
categories: [redis, php]
---

众所周知，当redis中key数量越大，keys 命令执行越慢，而且最重要的会阻塞服务器，对单线程的redis来说，简直是灾难，终于找到了替代命令scan。
而bug 就出现在这里
问题有一两个月了吧，但是当时没写博客记录,现在想想 还是记下吧，避免大佬们采坑,php的具体版本记不清了，就记得是PHP7.2 .X  

在PHP5.6 的版本号是可以的。第一次执行是PHP5.6 正常，第二次是PHP7.2.X 报错误段错误。大家注意下哦 ，可以现在测试服搭建下 如果能用 再 去正式服吧

因为我不太清楚 7的 哪个版本能用，不过建议用最新版本(由于博客迁移造成原图丢失-抱歉)