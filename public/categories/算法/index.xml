<?xml version="1.0" encoding="utf-8" standalone="yes"?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom">
  <channel>
    <title>ç®—æ³• on èµ°ç‹—</title>
    <link>https://fengahan.github.io/categories/%E7%AE%97%E6%B3%95/</link>
    <description>Recent content in ç®—æ³• on èµ°ç‹—</description>
    <generator>Hugo -- gohugo.io</generator>
    <language>en-us</language>
    <copyright>Â© Copyright notice</copyright>
    <lastBuildDate>Fri, 14 Aug 2020 20:11:19 +0659</lastBuildDate>
    
	<atom:link href="https://fengahan.github.io/categories/%E7%AE%97%E6%B3%95/index.xml" rel="self" type="application/rss+xml" />
    
    
    <item>
      <title>PHPåˆ©ç”¨stack(æ ˆ)å†™äº†ä¸ªç®€å•éƒ½è®¡ç®—å™¨</title>
      <link>https://fengahan.github.io/technology/php-todo-simplae-opernumber/</link>
      <pubDate>Fri, 14 Aug 2020 20:11:19 +0659</pubDate>
      
      <guid>https://fengahan.github.io/technology/php-todo-simplae-opernumber/</guid>
      <description>åºŸè¯å°‘è¯´å…ˆä¸Šä»£ç æ‰æ˜¯å¥½æ±‰,å…¶æ ¸å¿ƒéƒ¨åˆ†ä¸ºå°†äººä»¬å¹³å¸¸ç”¨çš„ä¸­ç¼€è¡¨è¾¾å¼(è¿ç®—ç¬¦åœ¨ä¸­é—´)è½¬æ¢ä¸ºåç¼€è¡¨è¾¾å¼ã€‚è®¡ç®—çš„æ—¶å€™åªéœ€å…ˆ
ä¾æ¬¡è¯»å‡ºç¬¦å·å†è¯»å‡ºè¯¥ç¬¦å·å‰ä¸¤ä¸ªæ•°å­—å³å¯,ä»¥ä¸‹ä¸€ä¸ªç®€å•çš„ç¤ºåˆ—:ä»£ç å†™çš„å¾ˆä¸‘ è¯·åŠ¡å˜²ç¬‘ğŸ˜Š
&amp;lt;?php /** * * php å®ç°åŸºæœ¬çš„è®¡ç®—å™¨ æ”¯æŒ+ - * / ä»¥åŠä¼˜å…ˆè¿ç®—ç¬¦() * ä»…æ”¯æŒ(ä¸ªä½æ•°)ä¸æ”¯æŒå°æ•°ç‚¹å’Œå¤šä½æ•° * ä»…éœ€è¦ç®€å•ä¿®æ”¹å³å¯æ”¯æŒå°æ•°ç‚¹å’Œå¤šä½æ•°(æ€è·¯:scanä¸­ç¼€è¡¨è¾¾å¼çš„æ—¶å€™è¿›è¡Œæ­£åˆ™åŒ¹é…æ•°å­—)ã€‚ */ const OADD = 1; const OSUB = 1; const OMUL = 2; const ODIV = 2; $oper_stack = array(); $number_stack = array(); /** è½¬é€†æ³¢å…°è¡¨è¾¾å¼ */ $sym = &amp;#34;1+(2+3)*4-8/4+3*(2+1)&amp;#34;; $sym_len = mb_strlen($sym); for ($i = 0; $i &amp;lt; $sym_len; $i++) { $char = $sym[$i]; if (ctype_digit($char)) {//æ•°å­—  array_push($number_stack, $char); } else {//æ“ä½œç¬¦å·  if ((empty($oper_stack) || $char == &amp;#34;(&amp;#34;) &amp;amp;&amp;amp; $char !</description>
    </item>
    
    <item>
      <title>ç®€å•çš„è®²è®²Redisåˆ†å¸ƒå¼hashåˆ°åº•æ˜¯å•¥æƒ…å†µ</title>
      <link>https://fengahan.github.io/technology/what-redis-distributed-hash/</link>
      <pubDate>Mon, 25 Nov 2019 13:45:07 +0710</pubDate>
      
      <guid>https://fengahan.github.io/technology/what-redis-distributed-hash/</guid>
      <description>è¯è¯´åˆ†å¸ƒå¼ä¸€è‡´æ€§Hashå¯ä»¥ç†è§£ä¸º æ”¾åœ¨ä»€ä¹ˆåœ†ç¯ä¸Šã€‚é•¿ç¯‡å¤§è®ºçš„è®²çš„æˆ‘æ²¡å…´è¶£çœ‹ä¸‹å»ï¼Œå…¶å®æœ€ç®€å•çš„ä¸€å¥è¯å°±æ˜¯æ™®é€šhash æ˜¯æŒ‰ç…§keyå€¼æ‰¾server è€Œåˆ†å¸ƒå¼hash æ˜¯æŒ‰ç…§keyå€¼æ‰€åœ¨çš„server(hashå€¼)çš„èŒƒå›´æ‰¾serverã€‚</description>
    </item>
    
    <item>
      <title>Twitterçš„åˆ†å¸ƒå¼è‡ªå¢IDç®—æ³•snowflake (PHPç‰ˆ)</title>
      <link>https://fengahan.github.io/technology/php-to-do-snowflow-autoid/</link>
      <pubDate>Sat, 26 Oct 2019 11:05:58 +0530</pubDate>
      
      <guid>https://fengahan.github.io/technology/php-to-do-snowflow-autoid/</guid>
      <description>ï¼ï¼ï¼æ³¨æ„ ï¼æ³¨æ„ï¼æ³¨æ„ é‡è¦çš„äº‹æƒ…è¯´ä¸‰é åœ¨Php-fpm çš„è¿è¡Œæ–¹å¼ä¸‹å¹¶ä¸å®‰å…¨ å¯ä»¥ç”¨åœ¨workman å’Œswoole ç­‰å¸¸é©»å†…å­˜çš„åº”ç”¨ç¨‹åºä¸Š &amp;lt;?php /** * Created by PhpStorm. * User: hanfeng * Date: 2018/8/24 * Time: 11:38 */ class Snow{ /** å¼€å§‹æ—¶é—´æˆª (2015-01-01) */ private $twepoch = 1420041600000; private $workerIdBits = 5; private $dataCenterIdBits=5; private $maxWorkerId; private $maxDataCenterId ; private $sequenceBits =12; private $workerIdShift; private $dataCenterIdShift; private $timestampLeftShift; private $sequenceMask; private $workerId; private $dataCenterId; private $sequence=0; private $lastTimestamp = -1; public function __construct($workerId,$dataCenterId) { if ($workerId&amp;gt;$this-&amp;gt;maxWorkerId ||$workerId&amp;lt;0){ throw new \Exception(&amp;#34;workerId æœ‰è¯¯&amp;#34;); } if ($dataCenterId&amp;gt;$this-&amp;gt;maxDataCenterId || $dataCenterId&amp;lt;0){ throw new \Exception(&amp;#34;dataCenterId æœ‰è¯¯&amp;#34;); } $this-&amp;gt;workerId=$workerId; $this-&amp;gt;dataCenterId=$dataCenterId; $this-&amp;gt;maxWorkerId=-1 ^ (-1 &amp;lt;&amp;lt; $this-&amp;gt;workerIdBits); $this-&amp;gt;workerIdShift=$this-&amp;gt;sequenceBits; $this-&amp;gt;dataCenterIdShift=$this-&amp;gt;sequenceBits + $this-&amp;gt;workerIdBits; $this-&amp;gt;timestampLeftShift=$this-&amp;gt;dataCenterIdShift+$this-&amp;gt;dataCenterIdBits; $this-&amp;gt;sequenceMask=-1 ^ (-1 &amp;lt;&amp;lt; $this-&amp;gt;sequenceBits); } public function nextId() { $timestamp=$this-&amp;gt;getTimeMicro(); //å¦‚æœå½“å‰æ—¶é—´å°äºä¸Šä¸€æ¬¡IDç”Ÿæˆçš„æ—¶é—´æˆ³ï¼Œè¯´æ˜ç³»ç»Ÿæ—¶é’Ÿå›é€€è¿‡è¿™ä¸ªæ—¶å€™åº”å½“æŠ›å‡ºå¼‚å¸¸  if ($timestamp &amp;lt; $this-&amp;gt;lastTimestamp){ throw new \Exception(&amp;#34;æ—¶é—´æœ‰è¯¯ã€‚è¯·é‡æ–°è°ƒæ•´ç³»ç»Ÿæ—¶é—´&amp;#34;); } if ($this-&amp;gt;lastTimestamp == $timestamp) { $this-&amp;gt;sequence = ($this-&amp;gt;sequence + 1) &amp;amp; $this-&amp;gt;sequenceMask; //æ¯«ç§’å†…åºåˆ—æº¢å‡º  if ($this-&amp;gt;sequence == 0) { //é˜»å¡åˆ°ä¸‹ä¸€ä¸ªæ¯«ç§’,è·å¾—æ–°çš„æ—¶é—´æˆ³  $timestamp= $this-&amp;gt;tilNextMillis($this-&amp;gt;lastTimestamp); } } //æ—¶é—´æˆ³æ”¹å˜ï¼Œæ¯«ç§’å†…åºåˆ—é‡ç½®  else { $this-&amp;gt;sequence = 0; } //ä¸Šæ¬¡ç”ŸæˆIDçš„æ—¶é—´æˆª  $this-&amp;gt;lastTimestamp = $timestamp; //ç§»ä½å¹¶é€šè¿‡æˆ–è¿ç®—æ‹¼åˆ°ä¸€èµ·ç»„æˆ64ä½çš„ID  return (($timestamp - $this-&amp;gt;twepoch) &amp;lt;&amp;lt; $this-&amp;gt;timestampLeftShift) //  | ($this-&amp;gt;dataCenterId &amp;lt;&amp;lt; $this-&amp;gt;dataCenterIdShift) //  | ($this-&amp;gt;workerId &amp;lt;&amp;lt; $this-&amp;gt;workerIdShift) //  | $this-&amp;gt;sequence; } public function tilNextMillis($stamp){ $timestamp = $this-&amp;gt;getTimeMicro(); while ($timestamp &amp;lt;= $stamp) { $timestamp = $this-&amp;gt;getTimeMicro(); } return $timestamp; } /** * è·å–æ¯«ç§’ */ public function getTimeMicro() { list($mic,$at)=explode(&amp;#34; &amp;#34;,microtime());//  return (float)sprintf(&amp;#39;%.</description>
    </item>
    
  </channel>
</rss>